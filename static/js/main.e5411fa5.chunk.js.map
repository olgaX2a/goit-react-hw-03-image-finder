{"version":3,"sources":["components/Searchbar/Searchbar.jsx","components/Gallery/ImageGalleryItem/ImageGalleryItem.jsx","apiService/apiService.js","components/Loader/Loader.jsx","components/Gallery/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","App.js","index.js"],"names":["Searchbar","state","query","handleInputChange","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onFormSubmit","toast","error","className","onSubmit","this","type","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","src","alt","onPictureClick","onClick","getPictures","pageNumber","url","fetch","then","response","ok","json","Promise","reject","Error","Spinner","color","height","width","timeout","Status","ImageGallery","gallery","page","status","handlePictureSelect","getSelectedPic","prevProps","prevState","prevQuery","nextQuery","prevPage","nextPage","prevGallery","hits","catch","map","id","webformatURL","largeImageURL","tags","length","Button","onLoadMore","Modal","handleEscKeyDown","code","closeModal","handleBackdropClick","target","window","addEventListener","removeEventListener","App","selectedPicture","handleGalleryUpd","pictures","handleOpenModal","selectedPic","handleCloseModal","handleSearchSubmit","handleLoadMore","scrollTo","top","document","querySelector","scrollHeight","behavior","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.e5411fa5.chunk.js","sourcesContent":["import \"./Searchbar.css\";\nimport { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { toast } from \"react-toastify\";\n\nclass Searchbar extends Component {\n  state = {\n    query: \"\",\n  };\n\n  handleInputChange = (event) => {\n    this.setState({ query: event.currentTarget.value.toLowerCase() });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    if (this.state.query.trim() === \"\") {\n      toast.error(\"Your query is empty. Please enter correct query.\");\n      return;\n    }\n    this.props.onFormSubmit(this.state.query);\n  };\n\n  render() {\n    return (\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            className=\"SearchForm-input\"\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={this.handleInputChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n\nSearchbar.propTypes = {\n  onFormSubmit: PropTypes.func.isRequired,\n};\n","import \"./ImageGalleryItem.css\";\nimport PropTypes from \"prop-types\";\n\nconst ImageGalleryItem = ({ src, alt, onPictureClick }) => {\n  return (\n    <li className=\"ImageGalleryItem\">\n      <img\n        src={src}\n        alt={alt}\n        className=\"ImageGalleryItem-image\"\n        onClick={onPictureClick}\n      />\n    </li>\n  );\n};\n\nexport default ImageGalleryItem;\n\nImageGalleryItem.propTypes = {\n  src: PropTypes.string.isRequired,\n  alt: PropTypes.string.isRequired,\n  onPictureClick: PropTypes.func.isRequired,\n};\n","const API_KEY = \"21806148-ef05846c07274d590c18cb52e\";\nconst BASE_URL = \"https://pixabay.com/api/\";\nconst PER_PAGE = 12;\n\nfunction getPictures(query, pageNumber) {\n  const url = `${BASE_URL}?q=${query}&page=${pageNumber}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=${PER_PAGE}`;\n  return fetch(url).then((response) => {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(\n      new Error(\"No matches found. Please check your request.\")\n    );\n  });\n}\n\nexport default getPictures;\n","import Loader from \"react-loader-spinner\";\nimport \"./Loader.css\";\nconst Spinner = () => {\n  return (\n    <Loader\n      className=\"Loading\"\n      type=\"Puff\"\n      color=\"#00BFFF\"\n      height={100}\n      width={100}\n      timeout={3000} //3 secs\n    />\n  );\n};\nexport default Spinner;\n","import \"./ImageGallery.css\";\nimport ImageGalleryItem from \"../ImageGalleryItem\";\nimport { Component } from \"react\";\nimport getPictures from \"../../../apiService/apiService\";\nimport { toast } from \"react-toastify\";\nimport Loader from \"../../Loader\";\n\nconst Status = {\n  IDLE: \"idle\",\n  PENDING: \"pending\",\n  RESOLVED: \"resolved\",\n  REJECTED: \"rejected\",\n};\n\nclass ImageGallery extends Component {\n  state = {\n    gallery: [],\n    page: 1,\n    status: Status.IDLE,\n    error: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevQuery = prevProps.query;\n    const nextQuery = this.props.query;\n    const prevPage = prevProps.page;\n    const nextPage = this.props.page;\n    const prevGallery = prevState.gallery;\n\n    if (prevQuery !== nextQuery) {\n      this.setState({ page: 1, status: Status.PENDING });\n      getPictures(nextQuery, nextPage)\n        .then((response) =>\n          this.setState({\n            gallery: [...response.hits],\n            status: Status.RESOLVED,\n          })\n        )\n        .catch((error) => this.setState({ error, status: Status.REJECTED }));\n    }\n    if (prevPage !== nextPage) {\n      this.setState({ status: Status.PENDING });\n      getPictures(nextQuery, nextPage)\n        .then((response) =>\n          this.setState({\n            gallery: [...prevGallery, ...response.hits],\n            status: Status.RESOLVED,\n          })\n        )\n        .catch((error) => this.setState({ error, status: Status.REJECTED }));\n    }\n    return;\n  }\n\n  handlePictureSelect = (url) => {\n    this.props.getSelectedPic(url);\n  };\n\n  render() {\n    const { gallery, status, error } = this.state;\n    if (status === Status.IDLE) {\n      return null;\n    }\n    if (status === Status.PENDING) {\n      return (\n        <>\n          <ul\n            className=\"ImageGallery\"\n            query={this.props.query}\n            page={this.props.page}\n          >\n            {this.state.gallery.map(\n              ({ id, webformatURL, largeImageURL, tags }) => (\n                <ImageGalleryItem\n                  key={id}\n                  src={webformatURL}\n                  alt={tags}\n                  onPictureClick={() => this.handlePictureSelect(largeImageURL)}\n                />\n              )\n            )}\n          </ul>\n          <Loader />\n        </>\n      );\n    }\n    if (status === Status.REJECTED) {\n      return toast.error(error);\n    }\n    if (status === Status.RESOLVED && gallery.length === 0) {\n      return toast.error(\"No matches found. Please check your query.\");\n    }\n\n    return (\n      <ul\n        className=\"ImageGallery\"\n        query={this.props.query}\n        page={this.props.page}\n      >\n        {this.state.gallery.map(({ id, webformatURL, largeImageURL, tags }) => (\n          <ImageGalleryItem\n            key={id}\n            src={webformatURL}\n            alt={tags}\n            onPictureClick={() => this.handlePictureSelect(largeImageURL)}\n          />\n        ))}\n      </ul>\n    );\n  }\n}\n\nexport default ImageGallery;\n","import \"./Button.css\";\nimport PropTypes from \"prop-types\";\n\nconst Button = ({ onLoadMore }) => {\n  return (\n    <button type=\"button\" className=\"Button\" onClick={onLoadMore}>\n      Load more\n    </button>\n  );\n};\n\nexport default Button;\n\nButton.propTypes = {\n  onLoadMore: PropTypes.func.isRequired,\n};\n","import \"./Modal.css\";\nimport { Component } from \"react\";\n\nclass Modal extends Component {\n  state = {\n    url: null,\n  };\n\n  componentDidMount() {\n    this.setState({ url: this.props.url });\n    window.addEventListener(\"keydown\", this.handleEscKeyDown);\n  }\n  componentWillUnmount() {\n    this.setState({ url: null });\n    window.removeEventListener(\"keydown\", this.handleEscKeyDown);\n  }\n\n  handleEscKeyDown = (event) => {\n    if (event.code === \"Escape\") {\n      this.props.closeModal();\n    }\n  };\n  handleBackdropClick = (event) => {\n    if (event.currentTarget === event.target) {\n      this.props.closeModal();\n    }\n  };\n\n  render() {\n    return (\n      <div className=\"Overlay\" onClick={this.handleBackdropClick}>\n        <div className=\"Modal\">\n          <img src={this.state.url} alt=\"\" />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Modal;\n","import './App.css'\nimport 'react-toastify/dist/ReactToastify.css'\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css'\nimport { Component } from 'react'\n\nimport Searchbar from './components/Searchbar'\nimport ImageGallery from './components/Gallery/ImageGallery'\nimport Button from './components/Button'\nimport Modal from './components/Modal'\nimport { ToastContainer } from 'react-toastify'\n\nclass App extends Component {\n  state = {\n    query: '',\n    page: 1,\n    selectedPicture: null,\n  }\n\n  handleGalleryUpd = (gallery) => {\n    this.setState({ pictures: gallery })\n  }\n  handleOpenModal = (selectedPic) => {\n    this.setState({ selectedPicture: selectedPic })\n  }\n  handleCloseModal = () => {\n    this.setState({ selectedPicture: null })\n  }\n  handleSearchSubmit = (query) => {\n    this.setState({ query: query })\n  }\n\n  handleLoadMore = () => {\n    this.setState((prevState) => ({ page: prevState.page + 1 }))\n    window.scrollTo({\n      top: document.querySelector('ul').scrollHeight,\n      behavior: 'smooth',\n    })\n  }\n\n  render() {\n    return (\n      <>\n        <Searchbar onFormSubmit={this.handleSearchSubmit} />\n        <ToastContainer autoClose={2000} />\n        <ImageGallery\n          query={this.state.query}\n          page={this.state.page}\n          getSelectedPic={this.handleOpenModal}\n        />\n        {this.state.query && <Button onLoadMore={this.handleLoadMore} />}\n        {this.state.selectedPicture && (\n          <Modal\n            closeModal={this.handleCloseModal}\n            url={this.state.selectedPicture}\n          />\n        )}\n      </>\n    )\n  }\n}\n\nexport default App\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}